<?xml version="1.0" encoding="utf-8"?>
  <rss version="2.0"
        xmlns:content="http://purl.org/rss/1.0/modules/content/"
        xmlns:atom="http://www.w3.org/2005/Atom"
  >
  <channel>
    <title>mtcle</title>
    <link href="http://www.mtcle.tk/feed/" rel="self" />
    <link href="http://www.mtcle.tk/" />
    <lastBuildDate>2014-01-18T13:14:02+08:00</lastBuildDate>
    <webMaster>mtcle@126.com</webMaster>
    
    <item>
      <title>自己写的丑陋代码高亮</title>
      <link href="http://www.mtcle.tk/2014/01/highlight/"/>
      <pubDate>2014-01-16T00:00:00+08:00</pubDate>
      <author>mtcle</author>
      <guid>http://www.mtcle.tk/2014/01/highlight</guid>
      <content:encoded><![CDATA[<h3>最近折腾这个markdown的高亮,忽然想起来以前我们的一个小小作业,和高亮有关,觉得挺好玩的就拿出来折腾折腾.</h3>

<p><strong>要求</strong> :java的高亮转变成html文件后里面依旧高亮 <br/>
思路:</p>

<ul>
<li>关键字搜索匹配高亮</li>
<li>注释搜索匹配</li>
<li>html特殊符号处理</li>
<li>注释中的关键词处理</li>
</ul>


<hr />

<p>效果如下:<br/>
java里面:(由于blog用的js代码高亮不是太完美)</p>

<div class="highlight"><pre><code class="java">  

<span class="kn">package</span> <span class="n">work1</span><span class="o">;</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Messageprint</span> <span class="o">{</span>
  <span class="c1">// 测试的文档test</span>
  <span class="cm">/**</span>
<span class="cm">   * ghghghgh</span>
<span class="cm">   * </span>
<span class="cm">   * @mtcle the first javawork</span>
<span class="cm">   */</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Welcome\&quot;&lt;html&gt;&lt;/html&gt; to Java&quot;</span><span class="o">);</span><span class="c1">// 这里是注释</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Welcome to computer Science&quot;</span><span class="o">);</span><span class="c1">// 也是注释</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Programming is fun&quot;</span><span class="o">);</span><span class="c1">// 还是注释</span>
  <span class="o">}</span>
<span class="o">}</span>  
 
</code></pre>
</div>


<hr />

<p>html效果如下:  <br/>
这里好像是markdown对于大段html的支持不是太完美(个人感觉),段注释在html页面运行正常,放到markdown里就不行了主要是 * 的特殊含义吧  原<a href="/source/javaToHtml.html">html格式</a></p>

<p><html><pre><font color="blue"><strong>package</strong></font> work1; </font> <p><font color="blue"><strong>public</strong></font> <font color="blue"><strong>class</strong></font> Messageprint { </font> <p>  <font color="green">// 测试的文档test </font> <p>   <font color="orange">/<strong>  </font> <p>    <font color="orange"><em>  ghghghgh </font> <p>    <font color="orange"></em>   </font> <p>    <font color="orange"><em>  @mtcle the first javawork </font> <p>    <font color="orange"></em>/</font>  </font> <p>  <font color="blue"></strong>public<strong></font> <font color="blue"></strong>static<strong></font> <font color="blue"></strong>void<strong></font> main(String[] args) { </font> <p>    System.<font color="blue"></strong>out<strong></font>.println( <font color="blue">" Welcome \" &amp;lthtml&amp;gt&amp;lt/html&amp;gt to Java "</font> );<font color="green">// 这里是注释 </font> <p>    System.<font color="blue"></strong>out<strong></font>.println( <font color="blue">" Welcome to computer Science "</font> );<font color="green">// 也是注释 </font> <p>    System.<font color="blue"></strong>out**</font>.println( <font color="blue">" Programming is fun "</font> );<font color="green">// 还是注释 </font> <p>  } </font> <p>} </font> <p></pre></html></p>

<hr />
]]></content:encoded>
    </item>
    
    <item>
      <title>小思</title>
      <link href="http://www.mtcle.tk/2014/01/coderefactoring/"/>
      <pubDate>2014-01-16T00:00:00+08:00</pubDate>
      <author>mtcle</author>
      <guid>http://www.mtcle.tk/2014/01/coderefactoring</guid>
      <content:encoded><![CDATA[<h4>对图书管理系统又抽象出了个方法,自然而然的就删了好多代码,代码又精简了些许</h4>

<hr />

<p>删了好多代码后,忽然想起软件工程里面的极限编程了,咳咳,和那没多大关系(不过就是想到了而已).   <br/>
拿到一个需求后不应该是立马就上手编写<br/>
不管多大的项目,都应该进行设计(这里说的不是概要设计而是详细设计对于小项目可能往往都给省了),不是想当然的写到哪里是哪里,到最后就让自己陷入死胡同里了,或者就是多花冤枉时间.<br/>
这次的这个系统就是刚开始的时候觉得上手很简单(<em>的确如此~</em>),对于一个数据库一个表的设计很随意,对于一个抽象也很无所谓      <br/>
到了后期遇到问题的时候在回过头来修改表或者再抽象,虽说不上是再工程那么严重,最起码也要删除修改好多行<br/>
对于先前的工作好多可能都是无用工(<em>当然啦,还是会有那么一点点收获的~!~</em>).</p>

<hr />

<p>最后忽然想起以前一个好朋友(小苏)老是拿着本&lt;代码重构>在那看(闲扯了),当时觉得用处不大,现在才知道其重要性,没事就回过头整理一下自己的workplace里面的代码.或多或少总有收获</p>

<hr />
]]></content:encoded>
    </item>
    
    <item>
      <title>markdown随笔</title>
      <link href="http://www.mtcle.tk/2014/01/markdownlearning/"/>
      <pubDate>2014-01-15T00:00:00+08:00</pubDate>
      <author>mtcle</author>
      <guid>http://www.mtcle.tk/2014/01/markdownlearning</guid>
      <content:encoded><![CDATA[<h2>markdown</h2>

<hr />

<h4><strong>makedown</strong>语法简单,上手很快,挺好玩的,我就把一些自己常用的总结一下,也在以后写的时候忘记了可以查看,纯为存档</h4>

<hr />

<p>1.从最开始的开始写吧,经常用的的那些比如说<em>test</em>这样的形式是用一对 * 或者 _ 括着就可以了好简单,也可以两对就是<strong>着重</strong>的括着,也可以三对则是<strong><em>这样</em></strong>形式. <br/>
2.换行的话就是敲两个以上的空格加enter就行了,生成的页面就是换行了.<br/>
3.分割线是三个以上的 * 或者 - 就行了 <br/>
4.对于列表则更简单,只用在每行开头出加上 + - 就行了<br/>
5.url也挺简单的 [urlname](http://www.mtcle.tk)<a href="http://www.mtcle.tk">urlname</a> 这样就可以插入了<br/>
6.插入图片链接:![前面有个感叹号](/source/eclipse.gif)<img src="/source/eclipse.gif" alt="前面有个感叹号" />这样子就可以啦 (不过是不支持调整大小,可以用html标签做一下) ,简单好玩儿吧~<br/>
7. # 号的数量1-6标识该行的行阶,开头的小于号标识引用,也可以整段的引用,例如:<br/>
>##test<br/>
>###test</p>

<p>8.针对那种特殊符号 * -  _   [ ] 在markdown里面具有特殊功能的可以在前面和后面打上空格也可以在前面加上  \ 就实现了转义.      <br/>
9.对于代码处理当然也很简单了,行内代码可以直接用一对`括起来就行了,例如: <code>system.out.printl()</code>如果代码       <br/>
内部又出现了`在外面可以用两个,例如:<code>system.out.printl(`)</code>  实现转义.  <br/>
10.对于编写文档类的基本上已经够用了,挺好玩挺简单的,可以试试</p>

<hr />
]]></content:encoded>
    </item>
    
    <item>
      <title>近一个月java小思</title>
      <link href="http://www.mtcle.tk/2014/01/javalearning/"/>
      <pubDate>2014-01-14T00:00:00+08:00</pubDate>
      <author>mtcle</author>
      <guid>http://www.mtcle.tk/2014/01/javalearning</guid>
      <content:encoded><![CDATA[<h3>java thinking</h3>

<hr />

<p>12.2号开始到现在也已经过去了一个多月，把学校学习的东西都进行了系统的回顾， <br/>
将那些条条框框应用起来了。遇到问题也能思考到了java为了解决这个问题的而设置的<br/>
约束，同时或多或少的也能回顾到别的语言处理同样问题的方法。回顾一下java基础，  <br/>
感觉自己对抽象还是运用的不灵活，本来抽象是为了方便自己，可每每都是把自己给    <br/>
搞的晕晕了，还是缺乏实战。对于这次的图书管理系统，当然也还可以有好多可以抽象   <br/>
的东西，可真正在实现的时候抽出来的很少，这完全违背java的特征了，在这里就感觉   <br/>
不到java的优势了，又因为有大量的图形界面需要设置，由于swing的特点，布局又     <br/>
是一个问题，对于布局花费了很多精力，但是界面还是依旧不理想等等还有许多问题。</p>

<hr />

<p>java就这样过去了，可还有高层次的东西几乎都没掌握。在其后的安卓开发里还要继续      <br/>
学习～ 加油！！</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>Mysql笔记</title>
      <link href="http://www.mtcle.tk/2014/01/mysql/"/>
      <pubDate>2014-01-13T00:00:00+08:00</pubDate>
      <author>mtcle</author>
      <guid>http://www.mtcle.tk/2014/01/mysql</guid>
      <content:encoded><![CDATA[<hr />

<h3>以前学习过sqlsever，对于一些基本查询及联合查询基本了解，这里记录下</h3>

<h3>最近使用jdbc连接mysql的一些注意事项也能让我以后再次使用mysql时可以回过头来查阅。</h3>

<hr />

<h4>1.加载驱动：  <code>Class.forName("com.mysql.jdbc.Driver");</code></h4>

<h4>2.建立连接：  `Connection connection =DriverManager.getConnection</h4>

<h4>("jdbc:mysql://localhost/book_mgr?characterEncoding=utf8","root", "password");//这个要在数据库后面</h4>

<h4>写上查询字符集，否在查询不到数据库的中文结果。`</h4>

<h4>3.调用Statement：  <code>Statement statement = connection.createStatement()</code>。</h4>

<h4>4.取结果集：  <code>ResultSet getresault=statement.executeQuery("查询语句")</code>。</h4>

<h4>5.对结果集进行处理：使用 <code>while (getResault.next()) {passtemp = getresault.getString(1);}//数字对应着结果的列编号</code></h4>

<h4>6.连接关闭：  <code>connection.close();</code></h4>

<h4>7.若进行多条语句操作则必须添加事务处理。要在命令开始前设置成commit为false，对执行多条语句后进行commit,若异常后进行rollback，在finally里进行连接终端操作。</h4>
]]></content:encoded>
    </item>
    
    <item>
      <title>第一次</title>
      <link href="http://www.mtcle.tk/2014/01/frist/"/>
      <pubDate>2014-01-13T00:00:00+08:00</pubDate>
      <author>mtcle</author>
      <guid>http://www.mtcle.tk/2014/01/frist</guid>
      <content:encoded><![CDATA[<p>一切看似简单的东西总能领悟到许多的东西。</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>测试代码高亮</title>
      <link href="http://www.mtcle.tk/2014/01/codehighlighttest/"/>
      <pubDate>2014-01-13T00:00:00+08:00</pubDate>
      <author>mtcle</author>
      <guid>http://www.mtcle.tk/2014/01/codehighlighttest</guid>
      <content:encoded><![CDATA[<hr />

<h3>例子</h3>

<div class="highlight"><pre><code class="java"><span class="kn">package</span> <span class="n">model</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.sql.Connection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.sql.DriverManager</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.sql.SQLException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.sql.Statement</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.text.SimpleDateFormat</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Date</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.swing.JOptionPane</span><span class="o">;</span>

<span class="cm">/**</span>
<span class="cm"> * 图书类 包括名字，状态，借出次数 属性 包括记录卡 租金类别</span>
<span class="cm"> * */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Book</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="n">String</span> <span class="n">bookName</span><span class="o">;</span><span class="c1">// 名字</span>
  <span class="kd">private</span> <span class="kt">int</span> <span class="n">status</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span><span class="c1">// 图书当前状态，默认为0在馆可借，借出为1</span>
  <span class="kd">private</span> <span class="kt">int</span> <span class="n">rentCounts</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span><span class="c1">// 图书借阅次数</span>
  <span class="kd">private</span> <span class="kt">int</span> <span class="n">bookRentLevel</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span><span class="c1">// 图书租金级别,默认为0,高级为1</span>
  <span class="kd">private</span> <span class="n">Sequence</span> <span class="n">sequence</span><span class="o">;</span><span class="c1">// 定义一个图书序列号</span>
  <span class="kd">private</span> <span class="n">String</span> <span class="n">Id</span><span class="o">;</span>
  <span class="kd">private</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Record</span><span class="o">&gt;</span> <span class="n">record</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Record</span><span class="o">&gt;();</span> <span class="c1">// 规定泛型类型</span>

  <span class="kd">public</span> <span class="nf">Book</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">,</span> <span class="n">String</span> <span class="n">head</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ClassNotFoundException</span> <span class="o">{</span><span class="c1">// 只有名字的构造器</span>
    <span class="k">this</span><span class="o">.</span><span class="na">bookName</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
    <span class="k">this</span><span class="o">.</span><span class="na">sequence</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Sequence</span><span class="o">(</span><span class="n">head</span><span class="o">);</span>
    <span class="k">this</span><span class="o">.</span><span class="na">Id</span> <span class="o">=</span> <span class="n">sequence</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
    <span class="k">this</span><span class="o">.</span><span class="na">bookRentLevel</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="nf">Book</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">,</span> <span class="n">String</span> <span class="n">head</span><span class="o">,</span> <span class="kt">int</span> <span class="n">bookRentLevel</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ClassNotFoundException</span><span class="o">,</span> <span class="n">SQLException</span> <span class="o">{</span><span class="c1">// 带图书级别的构造器</span>
    <span class="k">this</span><span class="o">.</span><span class="na">bookName</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
    <span class="k">this</span><span class="o">.</span><span class="na">bookRentLevel</span> <span class="o">=</span> <span class="n">bookRentLevel</span><span class="o">;</span>
    <span class="k">this</span><span class="o">.</span><span class="na">sequence</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Sequence</span><span class="o">(</span><span class="n">head</span><span class="o">);</span>
    <span class="k">this</span><span class="o">.</span><span class="na">Id</span> <span class="o">=</span> <span class="n">sequence</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
    <span class="n">Class</span><span class="o">.</span><span class="na">forName</span><span class="o">(</span><span class="s">&quot;com.mysql.jdbc.Driver&quot;</span><span class="o">);</span>
    <span class="n">java</span><span class="o">.</span><span class="na">sql</span><span class="o">.</span><span class="na">Connection</span> <span class="n">connection</span> <span class="o">=</span>
        <span class="n">DriverManager</span><span class="o">.</span><span class="na">getConnection</span><span class="o">(</span><span class="s">&quot;jdbc:mysql://localhost/book_mgr?characterEncoding=utf8&quot;</span><span class="o">,</span>
            <span class="s">&quot;root&quot;</span><span class="o">,</span> <span class="s">&quot;121126&quot;</span><span class="o">);</span>
<span class="c1">//    System.out.println(&quot;连接成功！&quot;);</span>
<span class="c1">//    connection.setAutoCommit(false);</span>
    <span class="n">Statement</span> <span class="n">statement</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="na">createStatement</span><span class="o">();</span>
    <span class="n">statement</span><span class="o">.</span><span class="na">execute</span><span class="o">(</span><span class="s">&quot;insert book (bookid,name,status,booklevel,checkoutsum)value(&#39;&quot;</span> <span class="o">+</span> <span class="n">Id</span> <span class="o">+</span> <span class="s">&quot;&#39;,&#39;&quot;</span>
        <span class="o">+</span> <span class="n">bookName</span> <span class="o">+</span> <span class="s">&quot;&#39;, 0 ,&#39;&quot;</span> <span class="o">+</span> <span class="n">bookRentLevel</span> <span class="o">+</span> <span class="s">&quot;&#39;,&#39;&quot;</span> <span class="o">+</span> <span class="n">rentCounts</span> <span class="o">+</span> <span class="s">&quot;&#39;)&quot;</span><span class="o">);</span>
    <span class="n">connection</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="c1">//    System.out.println(&quot;连接关闭！&quot;);</span>
    <span class="n">JOptionPane</span><span class="o">.</span><span class="na">showMessageDialog</span><span class="o">(</span><span class="kc">null</span><span class="o">,</span> <span class="s">&quot;添加成功！&quot;</span><span class="o">,</span> <span class="s">&quot;提示&quot;</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getStatus</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">status</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setStatus</span><span class="o">(</span><span class="kt">int</span> <span class="n">status</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">status</span> <span class="o">=</span> <span class="n">status</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getRentCounts</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">rentCounts</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setRentCounts</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">rentCounts</span><span class="o">++;</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getBookLevel</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">bookRentLevel</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setBookLevel</span><span class="o">(</span><span class="kt">int</span> <span class="n">bookLevel</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">bookRentLevel</span> <span class="o">=</span> <span class="n">bookLevel</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="n">String</span> <span class="nf">getId</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">Id</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="n">Record</span> <span class="nf">newRecord</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="n">Book</span><span class="o">.</span><span class="na">Record</span><span class="o">();</span>
  <span class="o">}</span>


  <span class="kd">public</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Record</span><span class="o">&gt;</span> <span class="nf">getRecord</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">record</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setRecord</span><span class="o">(</span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Record</span><span class="o">&gt;</span> <span class="n">record</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">record</span> <span class="o">=</span> <span class="n">record</span><span class="o">;</span>
  <span class="o">}</span>


  <span class="cm">/**</span>
<span class="cm">   * 记录卡类 包括借出日期，归还日期，图书名字,扩展到借阅者名字</span>
<span class="cm">   * */</span>
  <span class="kd">public</span> <span class="kd">class</span> <span class="nc">Record</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kt">long</span> <span class="n">checkOutTime</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">long</span> <span class="n">checkInTime</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">double</span> <span class="n">totalPrice</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">username</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">double</span> <span class="n">totalfajin</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="n">Date</span> <span class="n">date</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Date</span><span class="o">();</span>
    <span class="n">SimpleDateFormat</span> <span class="n">timeformat</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SimpleDateFormat</span><span class="o">(</span><span class="s">&quot;yyyy-MM-dd&quot;</span><span class="o">);</span><span class="c1">// 格式化时间输出</span>
    
    <span class="kd">public</span> <span class="nf">Record</span><span class="o">()</span> <span class="o">{</span>
      <span class="k">try</span> <span class="o">{</span>
        <span class="n">Connection</span> <span class="n">connection</span> <span class="o">=</span>
            <span class="n">DriverManager</span><span class="o">.</span><span class="na">getConnection</span><span class="o">(</span><span class="s">&quot;jdbc:mysql://localhost/book_mgr?characterEncoding=utf8&quot;</span><span class="o">,</span> <span class="s">&quot;root&quot;</span><span class="o">,</span> <span class="s">&quot;121126&quot;</span><span class="o">);</span>
<span class="c1">//        System.out.println(&quot;连接成功！&quot;);</span>
        <span class="n">Statement</span> <span class="n">statement</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="na">createStatement</span><span class="o">();</span>
        <span class="n">statement</span><span class="o">.</span><span class="na">execute</span><span class="o">(</span><span class="s">&quot;insert record (booknumber,userid,checkout,checkin,plan,rent,fajin)value(&#39;&quot;</span><span class="o">+</span><span class="n">Id</span><span class="o">+</span><span class="s">&quot;&#39;,&#39;&quot;</span><span class="o">+</span><span class="n">username</span><span class="o">+</span><span class="s">&quot;&#39;,&#39;&quot;</span><span class="o">+</span><span class="n">timeformat</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">checkOutTime</span><span class="o">)+</span><span class="s">&quot;&#39;,&#39;&quot;</span><span class="o">+</span><span class="n">timeformat</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">checkInTime</span><span class="o">)+</span><span class="s">&quot;&#39;,&#39;&quot;</span><span class="o">+</span><span class="n">timeformat</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">checkInTime</span><span class="o">+</span><span class="mi">30</span><span class="o">*</span><span class="mi">24</span><span class="o">*</span><span class="mi">60</span><span class="o">*</span><span class="mi">60</span><span class="o">*</span><span class="mi">1000</span><span class="o">)+</span><span class="s">&quot;&#39;,&#39;&quot;</span><span class="o">+</span><span class="n">totalPrice</span><span class="o">+</span><span class="s">&quot;&#39;,&#39;&quot;</span><span class="o">+</span><span class="n">totalfajin</span><span class="o">+</span><span class="s">&quot;&#39;)&quot;</span><span class="o">);</span>      
        <span class="n">connection</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="c1">//        System.out.println(&quot;连接关闭！&quot;);</span>
      <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">SQLException</span> <span class="n">e1</span><span class="o">)</span> <span class="o">{</span>
<span class="c1">//        System.out.println(&quot;sql wrong!&quot;);</span>
<span class="c1">//        e1.printStackTrace();</span>
      <span class="o">}</span>
      <span class="k">this</span><span class="o">.</span><span class="na">checkOutTime</span> <span class="o">=</span> <span class="n">date</span><span class="o">.</span><span class="na">getTime</span><span class="o">();</span>
      <span class="k">this</span><span class="o">.</span><span class="na">checkInTime</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
      <span class="k">this</span><span class="o">.</span><span class="na">totalPrice</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
      <span class="c1">// this.username=username;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getUsername</span><span class="o">()</span> <span class="o">{</span>
      <span class="k">return</span> <span class="n">username</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setCheckOutTime</span><span class="o">(</span><span class="kt">long</span> <span class="n">checkOutTime</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">this</span><span class="o">.</span><span class="na">checkOutTime</span> <span class="o">=</span> <span class="n">checkOutTime</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getCheckOutTime</span><span class="o">()</span> <span class="o">{</span>
      <span class="k">return</span> <span class="n">timeformat</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">checkOutTime</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="c1">// public long getCheckInTime() {</span>
    <span class="c1">// return checkInTime;</span>
    <span class="c1">// }</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getCheckInTime</span><span class="o">()</span> <span class="o">{</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">checkInTime</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span>
        <span class="k">return</span> <span class="s">&quot;该图书未归还&quot;</span><span class="o">;</span>
      <span class="k">else</span>
        <span class="k">return</span> <span class="n">timeformat</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">checkInTime</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getTotalPrice</span><span class="o">()</span> <span class="o">{</span>
      <span class="k">return</span> <span class="s">&quot;&quot;</span> <span class="o">+</span> <span class="n">totalPrice</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setCheckInTime</span><span class="o">(</span><span class="kt">long</span> <span class="n">checkInTime</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">this</span><span class="o">.</span><span class="na">checkInTime</span> <span class="o">=</span> <span class="n">checkInTime</span><span class="o">;</span>
    <span class="o">}</span>


    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>

      <span class="k">return</span> <span class="s">&quot;借出日期&quot;</span> <span class="o">+</span> <span class="n">timeformat</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">checkOutTime</span><span class="o">)</span> <span class="o">+</span> <span class="s">&quot; 归还日期：&quot;</span> <span class="o">+</span> <span class="n">timeformat</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">checkInTime</span><span class="o">)</span>
          <span class="o">+</span> <span class="s">&quot; 本次费用：&quot;</span> <span class="o">+</span> <span class="n">totalPrice</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">double</span> <span class="nf">rentFee</span><span class="o">(</span><span class="kt">long</span> <span class="n">checkInTime</span><span class="o">,</span> <span class="kt">double</span> <span class="n">rentPrice</span><span class="o">)</span> <span class="o">{</span><span class="c1">// 根据日期计算费用</span>
      <span class="n">totalPrice</span> <span class="o">=</span> <span class="o">((</span><span class="n">checkInTime</span> <span class="o">-</span> <span class="n">checkOutTime</span><span class="o">)</span> <span class="o">/</span> <span class="o">(</span><span class="mi">24</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">1000</span><span class="o">)</span> <span class="o">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">*</span> <span class="n">rentPrice</span><span class="o">;</span><span class="c1">// 測試方便</span>
                                                                                          <span class="c1">// 先加一</span>
      <span class="c1">// System.out.println(&quot;总共借阅天数： &quot;+((checkInTime-checkOutTime)/(24*60*60*1000)+1));</span>
      <span class="k">return</span> <span class="n">totalPrice</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">double</span> <span class="nf">fajin</span><span class="o">(</span><span class="kt">long</span> <span class="n">checkInTime</span><span class="o">,</span> <span class="kt">double</span> <span class="n">fajinfee</span><span class="o">)</span> <span class="o">{</span>
      
      <span class="k">if</span> <span class="o">(((</span><span class="n">checkInTime</span> <span class="o">-</span> <span class="n">checkOutTime</span><span class="o">)</span> <span class="o">/</span> <span class="o">(</span><span class="mi">24</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">1000</span><span class="o">))</span> <span class="o">&gt;</span> <span class="mi">30</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">totalfajin</span> <span class="o">=</span> <span class="o">((</span><span class="n">checkInTime</span> <span class="o">-</span> <span class="n">checkOutTime</span><span class="o">)</span> <span class="o">/</span> <span class="o">(</span><span class="mi">24</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">1000</span><span class="o">)</span> <span class="o">-</span> <span class="mi">30</span><span class="o">)</span> <span class="o">*</span> <span class="mi">2</span><span class="o">;</span><span class="c1">// 默认罚金为2元一天，后期可以设置</span>
        <span class="k">return</span> <span class="n">totalfajin</span><span class="o">;</span>
      <span class="o">}</span>
      <span class="k">return</span> <span class="n">totalfajin</span><span class="o">;</span>
    <span class="o">}</span>
   
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>



]]></content:encoded>
    </item>
    
    <item>
      <title>hello～</title>
      <link href="http://www.mtcle.tk/2014/01/hello/"/>
      <pubDate>2014-01-10T00:00:00+08:00</pubDate>
      <author>mtcle</author>
      <guid>http://www.mtcle.tk/2014/01/hello</guid>
      <content:encoded><![CDATA[<p>hello world~!~ 终于弄好了啊</p>
]]></content:encoded>
    </item>
    
  </channel>
</rss>
